{% extends "index.html" %}
{% block head %}
<title> Put password page</title>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container">
    <div class = "row justify-content-center">
    <div class = "col second">
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <ul class=flashes>
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}

        <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">Id</th>
                <th scope="col">Alias</th>
                <th scope="col">Username/Email</th>
                <th scope="col">Copy</th>
              </tr>
            </thead>
            <tbody>
              {% for password in passwords %}
              <tr>
                <th scope="row" id = "passwordId">{{ password.id }}</th>
                <td>{{ password.alias }}</td>
                <td>{{ password.key }}</td>
                <td><button style="border: none" onclick="myFunction()"> <i class="material-icons" style="font-size:24px";>content_copy</i> </button> </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
    </div>
    </div>
</div>
<script>

function myFunction() {
    var id = document.getElementById("passwordId");
  
    copyText.select();
    copyText.setSelectionRange(0, 99999); /* For mobile devices */
  
    document.execCommand("copy");
  
    alert("Copied the text: " + copyText.value);
  }
</script>
{% endblock %}